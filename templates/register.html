{% extends 'base.html' %}

{% block js %}
    <script>
        function addFields(parentDiv) {
            all_fields = ["firstname","lastname","interest","interest2","interest3","interest4","interest5","interest6"];

            for (i = 0; i < all_fields.length; i++) {
                var currField = all_fields[i];
                var textbox = document.createElement('input');
                textbox.type = 'text';
                textbox.className = 'form-control';
                textbox.id = currField;
                textbox.placeholder = currField;
                textbox.name = currField;

                var label = document.createElement('label');
                label.htmlFor = currField;
                label.appendChild(document.createTextNode(currField));


                document.getElementById(parentDiv).appendChild(document.createElement('br'));
                document.getElementById(parentDiv).appendChild(label);
                document.getElementById(parentDiv).appendChild(textbox);
            }
            document.getElementById("expand-fields-button").remove();
        }
    </script>
{% endblock %}

{% block content %}
    <div style="width: 80%;margin: auto; padding-top: 3%;">
        <h2> Create an account</h2>
        <form action="/accounts/register/" method="post">
            <div id="essentials-container">
                <div class="form-group">
                    <label for="username">username</label>
                    <input type="text" class="form-control" id="username" placeholder="username" name="username">
                </div>

                <div class="form-group">
                    <label for="password">password</label>
                    <input type="password" class="form-control" id="password" placeholder="password" name="password">
                </div>

                <div class="form-group">
                    <label for="rePassword">confirmed Password</label>
                    <input type="password" class="form-control" id="rePassword" placeholder="rePassword" name="rePassword">
                </div>

                <div class="form-group">
                    <label for="email">email</label>
                    <input type="email" class="form-control" id="email" placeholder="email" name="email">
                </div>

            </div> <!-- end essentials-container -->

            <!-- Expanding entry fields button. -->
            <br>
            <button id="expand-fields-button" style="background-image: linear-gradient(90deg, #6737E5 50%, #B93FA3 80%); border-style: none;" type="button" class="btn btn-info" onclick="addFields('essentials-container')" style="width:100px;position: absolute;top: 50%;transform: translateY(-50%)translateX(-50%);left: 50%;">More fields</button>

            <!-- Register account button. -->
            <input hidden name="id" value="{{ user.id }}">
            <button style="background-image: linear-gradient(90deg, #6737E5 50%, #B93FA3 80%); border-style: none;" type="submit" class="btn btn-info" style="width:100px;position: absolute;top: 50%;transform: translateY(-50%)translateX(-50%);left: 50%;">register</button>
            {% csrf_token %}
        </form>
        <br>
        <div style="color: red;font-size: 14px">{{ error }}</div>

    </div>
{% endblock %}